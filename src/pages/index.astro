---
import RacesList from '../components/RacesList.astro';
import Layout from '../layouts/Layout.astro';
import { Image } from 'astro:assets';
import gravelImage from '../assets/gravel.jpg';
---

<Layout>
	<div class="relative min-h-screen">
		{/* Full-width background image */}
		<div class="fixed inset-0 -z-10">
			<Image
				src={gravelImage}
				alt=""
				class="h-full w-full object-cover"
				width={2000}
				height={1333}
				quality="mid"
			/>
			{/* Base gradient overlay */}
			<div class="absolute inset-0 bg-gradient-to-br from-neutral-950/80 to-neutral-900/75 mix-blend-multiply"></div>
			
			{/* Additional right side gradient for more opacity */}
			<div class="absolute inset-0 bg-gradient-to-r from-transparent via-neutral-950/40 to-neutral-950/90"></div>
			
			{/* Right side blur overlay */}
			<div class="absolute right-0 top-0 bottom-0 w-1/2 backdrop-blur-[2px] md:backdrop-blur-[3px]"></div>

			{/* Additional vignette for left panel content */}
			<div class="absolute inset-0 bg-gradient-to-t from-neutral-950/80 via-neutral-950/25 to-transparent"></div>
		</div>

		<div class="flex flex-col-reverse md:flex-row relative">
			{/* Left panel content */}
			<div class="w-full h-[50vh] md:fixed md:w-1/2 md:h-screen">
				<div class="relative h-full flex flex-col items-center justify-center px-6 py-24 sm:px-24 xl:py-32">
					<div class="text-center">
						<h2 class="mx-auto max-w-3xl text-4xl font-bold tracking-tight text-white sm:text-5xl drop-shadow-[0_2px_4px_rgba(0,0,0,0.4)]">
							Gravel NZ
						</h2>
						<p class="mx-auto mt-6 max-w-lg text-lg text-neutral-100 font-medium drop-shadow-[0_1px_2px_rgba(0,0,0,0.4)]">
							Discover and explore New Zealand's best gravel cycling events.
						</p>
					</div>
					<form class="mx-auto mt-10 flex max-w-md gap-x-3">
						<div class="min-w-0 flex-auto">
							<label for="email-address" class="sr-only">
								Email address
							</label>
							<div class="relative">
								<input
									id="email-address"
									name="email"
									type="email"
									required
									placeholder="Enter your email"
									autocomplete="email"
									class="block w-full rounded-md border-0 bg-white/20 px-4 py-2.5 text-white placeholder:text-neutral-200 focus:ring-2 focus:ring-inset focus:ring-neutral-400 sm:text-sm/6 backdrop-blur-sm shadow-[0_2px_8px_rgba(0,0,0,0.2)] transition-colors hover:bg-white/25"
								/>
							</div>
						</div>
						<button
							type="submit"
							class="flex-none rounded-md bg-neutral-100 px-4 py-2.5 text-sm font-semibold text-neutral-900 shadow-[0_2px_8px_rgba(0,0,0,0.2)] hover:bg-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-neutral-400 transition-colors"
						>
							Notify me
						</button>
					</form>
				</div>
			</div>
			
			{/* Right panel content */}
			<div class="w-full h-[50vh] md:w-1/2 md:min-h-screen md:ml-[50%]">
				<RacesList />
			</div>
		</div>
	</div>
</Layout>
